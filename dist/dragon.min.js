function hasClass(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function addClass(e,t){isNullOrUndefined(e.classList)?hasClass(e,t)||(e.className+=" "+t):e.classList.add(t)}function removeClass(e,t){if(isNullOrUndefined(e.classList)){if(hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}else e.classList.remove(t)}(function(){function e(e,t){var n=v.length,i=e.constructor,o=s.isFunction(i)&&i.prototype||r,u="constructor";for(s.has(e,u)&&!s.contains(t,u)&&t.push(u);n--;)u=v[n],u in e&&e[u]!==o[u]&&!s.contains(t,u)&&t.push(u)}var t=this,n=(t._,Array.prototype),r=Object.prototype,i=Function.prototype,o=(n.push,n.slice,r.toString),u=(r.hasOwnProperty,Array.isArray),a=Object.keys,s=(i.bind,Object.create,function(e){return e instanceof s?e:this instanceof s?void(this._wrapped=e):new s(e)});"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=s),exports._=s):t._=s,s.VERSION="1.8.3";var c=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},l=function(e,t,n){return null==e?s.identity:s.isFunction(e)?c(e,t,n):s.isObject(e)?s.matcher(e):s.property(e)};s.iteratee=function(e,t){return l(e,t,1/0)};var f=function(e){return function(t){return null==t?void 0:t[e]}},d=Math.pow(2,53)-1,p=f("length"),h=function(e){var t=p(e);return"number"==typeof t&&t>=0&&t<=d};s.each=s.forEach=function(e,t,n){t=c(t,n);var r,i;if(h(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=s.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},s.object=function(e,t){for(var n={},r=0,i=p(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var g=!{toString:null}.propertyIsEnumerable("toString"),v=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];s.keys=function(t){if(!s.isObject(t))return[];if(a)return a(t);var n=[];for(var r in t)s.has(t,r)&&n.push(r);return g&&e(t,n),n},s.allKeys=function(t){if(!s.isObject(t))return[];var n=[];for(var r in t)n.push(r);return g&&e(t,n),n};var y=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof s&&(e=e._wrapped),t instanceof s&&(t=t._wrapped);var i=o.call(e);if(i!==o.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var u="[object Array]"===i;if(!u){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,c=t.constructor;if(a!==c&&!(s.isFunction(a)&&a instanceof a&&s.isFunction(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),u){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!y(e[l],t[l],n,r))return!1}else{var f,d=s.keys(e);if(l=d.length,s.keys(t).length!==l)return!1;for(;l--;)if(f=d[l],!s.has(t,f)||!y(e[f],t[f],n,r))return!1}return n.pop(),r.pop(),!0};s.isEqual=function(e,t){return y(e,t)},s.isEmpty=function(e){return null==e||(h(e)&&(s.isArray(e)||s.isString(e)||s.isArguments(e))?0===e.length:0===s.keys(e).length)},s.isElement=function(e){return!(!e||1!==e.nodeType)},s.isArray=u||function(e){return"[object Array]"===o.call(e)},s.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},s.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){s["is"+e]=function(t){return o.call(t)==="[object "+e+"]"}}),s.isArguments(arguments)||(s.isArguments=function(e){return s.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(s.isFunction=function(e){return"function"==typeof e||!1}),s.isNull=function(e){return null===e},s.isUndefined=function(e){return void 0===e},s.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];s.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],result(this,n)}}),s.each(["concat","join","slice"],function(e){var t=n[e];s.prototype[e]=function(){return result(this,t.apply(this._wrapped,arguments))}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return s})}).call(this);var isNullOrUndefined=function(e){return!!_.isNull(e)||(!!_.isUndefined(e)||!!_.isEqual("",e.toString().trim()))},addEvent=function(){return document.addEventListener?function(e,t,n){if(e&&e.nodeName||e===window)e.addEventListener(t,n,!1);else if(e&&e.length)for(var r=0;r<e.length;r++)addEvent(e[r],t,n)}:function(e,t,n){if(e&&e.nodeName||e===window)e.attachEvent("on"+t,function(){return n.call(e,window.event)});else if(e&&e.length)for(var r=0;r<e.length;r++)addEvent(e[r],t,n)}}(),genID=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},newGuid=function(){return(genID()+genID()+"-"+genID()+"-4"+genID().substr(0,3)+"-"+genID()+"-"+genID()+genID()+genID()).toLowerCase()},addAttributes=function(e,t){return _.each(e.attributes,function(e,n,r){t.setAttribute(e.name,e.value)}),t},clone=function(e){var t=document.createElement(e.localName);return t=addAttributes(e,t),t.setAttribute("id",newGuid()),isNullOrUndefined(e.innerHTML)||(t.innerHTML=e.innerHTML),t},contains=function(e,t){return e.indexOf(t)>=0},findByAttribute=function(e,t){var n=document.querySelectorAll(e.localName),r=null;return!isNullOrUndefined(n)&&e.getAttribute(t)&&_.each(n,function(n,i,o){isNullOrUndefined(n.getAttribute(t))||_.isEqual(n.getAttribute("id"),e.getAttribute("id"))||_.isEqual(n.getAttribute(t),e.getAttribute(t))&&(r=n)}),r},getObject=function(e,t){if(_.isObject(t)){var n=[];return _.each(_.allKeys(t),function(r,i,o){if(_.isObject(t[r])){var u=getObject(r,t[r]);u[0][0]=r+"."+u[0][0],n.push(u)}else n.push([e+"."+r,t[r]])}),n}return[e,t.toString()]},replaceValues=function(e,t){return _.isArray(t[0])?(e.innerHTML=e.innerHTML.replace("{{"+t[0][0]+"}}",t[0][1]),e.innerHTML=e.innerHTML.replace("{{"+t[1][0]+"}}",t[1][1])):e.innerHTML=e.innerHTML.replace("{{"+t[0]+"}}",t[1]),e},removeByValue=function(e){if(!isNullOrUndefined(db[e].ask)){var t=document.getElementById("ask");_.each(t.parentNode.children,function(t,n,r){isNullOrUndefined(t.innerHTML)||contains(t.innerHTML,db[e].ask)&&t.remove()})}if(!isNullOrUndefined(db[e].business)){var n=document.getElementById("bizValue");_.each(n.parentNode.children,function(t,n,r){isNullOrUndefined(t.innerHTML)||contains(t.innerHTML,db[e].business.head)&&t.remove()})}},createFromTemplate=function(e,t){var n=clone(e);return _.each(_.allKeys(t),function(e,r,i){var o=getObject(e,t[e]);_.isArray(o)&&(n=replaceValues(n,o))}),e.parentNode.appendChild(n),n},logIt=function(e){console.info(e.constructor.name+": "+_.allKeys(e))},isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===toString.call(e)},Dragon=function(e,t,n,r,i,o){return"#"===e[0]?this.source=document.querySelector(e):this.source=document.querySelector("#"+e),"#"===t[0]?this.target=t:this.target="#"+t,this.target=t,this.elements=n,this.effect=r,this.class=i,isNullOrUndefined(o)?this.append=!1:isBoolean(o)?this.append=o:this.append=!1,this};Dragon.prototype={constructor:Dragon,drop:function(e,t){e.preventDefault();for(var n=null,r=e.dataTransfer.getData("text"),i=0;i<e.target.children.length;i++)if(e.target.children[i].id==r)return document.getElementById(r).style="position: absolute; left: "+e.clientX+"px; top: "+e.clientY+"px;",addEvent(o,"dragstart",function(e){t.start(e,t)}),!0;if("copy"===t.effect){var o=clone(document.getElementById(r));n=o.id,t.append||(o.style="position: absolute; left: "+e.clientX+"px; top: "+e.clientY+"px;"),o.setAttribute("draggable","true"),addEvent(o,"dragstart",function(e){t.start(e,t)}),e.target.appendChild(o)}else t.append?e.target.appendChild(document.getElementById(r)):document.getElementById(r).style="position: absolute; left: "+e.clientX+"px; top: "+e.clientY+"px;"},over:function(e,t){e.preventDefault(),e.dataTransfer.dropEffect=t.effect},enter:function(e,t){!isNullOrUndefined(t.class),e.preventDefault()},leave:function(e,t){!isNullOrUndefined(t.class),e.preventDefault()},start:function(e,t){e.dataTransfer.setData("text",e.target.id),e.dataTransfer.effectAllowed=t.effect},set:function(){var e=this;_.each(document.querySelectorAll(this.target),function(t,n,r){isNullOrUndefined(t.id)&&t.setAttribute("id",newGuid()),addEvent(t,"drop",function(t){e.drop(t,e)}),addEvent(t,"dragover",function(t){e.over(t,e)}),addEvent(t,"dragenter",function(t){e.enter(t,e)}),addEvent(t,"dragleave",function(t){e.leave(t,e)})});for(var t=document.querySelectorAll("#"+this.source.id+" "+this.elements),n=null,r=0;r<t.length;r++)n=t[r],isNullOrUndefined(n.id)&&n.setAttribute("id",newGuid()),n.setAttribute("draggable","true"),addEvent(n,"dragstart",function(t){e.start(t,e)})}};